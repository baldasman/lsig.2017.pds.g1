<script>
    var mask = {
        money: function() {
            var el = this
                ,exec = function(v) {
                v = v.replace(/\D/g,"");
                v = new String(Number(v));
                var len = v.length;
                if (1== len)
                    v = v.replace(/(\d)/,"0.0$1");
                else if (2 == len)
                    v = v.replace(/(\d)/,"0.$1");
                else if (len > 2) {
                    v = v.replace(/(\d{2})$/,'.$1');
                }
                return v;
            };

            setTimeout(function(){
                el.value = exec(el.value);
            },1);
        }

    }

    $(function(){
        $('#price').bind('keypress',mask.money)
    });

</script>

<div class="form-group col-md-5" style="margin-left: 27%;">

  <div>
    <p class="bg-danger">
      <%= @errors %>
    </p>
  </div>

  <%= form_for :order, url: order_create_path do |o| %>

      <div class="panel panel-primary">
        <div class="panel-heading">
          <h4>Novo pedido</h4></div>
        <div class="panel-body">
          <label>Delivery Date (YYYY/MM/DD)</label>
          <div class="col-10">
            <%= o.text_field :delivery_date, :class => "form-control", :required => true, :maxlength => 10 %>
          </div>

          <label class="col-2 col-form-label">Price</label>
          <div class="col-10">
            <%= o.text_field :price, :id=>"price", :class => "form-control",:required => true, :maxlength => 9 %>
          </div>

          <label class="col-2 col-form-label">Comment</label>
          <div class="col-10">
            <%= o.text_area :client_comment, :class => "form-control" %>
          </div>

          <label class="col-2 col-form-label">Attachment</label>
          <div class="col-10">
            <%= o.file_field :attachment, :url => {:action => 'new'}, :html => {:multipart => true}, :class => "form-control" %>
          </div>
          <br>
          <div class="text-center">
            <%= o.submit :class => 'btn btn-success'%></div><br/>
          <%= link_to "Voltar as Encomendas", listar_path, :class => "btn btn-warning btn-sm" %>
        </div>
  <% end %>
  </div>
</div>
</div>